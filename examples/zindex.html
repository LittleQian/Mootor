<!DOCTYPE html>
<head>
	<title>Zepto Mootor sample app</title>
	<meta content='width=device-width,initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0' name='viewport' />
	<script type="text/javascript" src="../js/zepto.js"></script>
	<script type="text/javascript">

	;(function($){
	  $.extend($.fn, {
	  	//Initialize panel
	    panel: function(options){
			// `this` refers to the current Zepto collection.
			// When possible, return the Zepto collection to allow chaining.
			if (!options) options = {};
			
			this.addClass("moo-panel")
			this.hidePanel();

			this.data("transition",options.transition);
			this.addClass(this.data("transition"))

			//For testing, a clicked panel will hide itself
			this.click(function() {
				$(this).hidePanel();
			})

			return this;
	    }
	    ,
	    showPanel: function(){
			if (this.data("transition") == "slide") {
		      	this.show().css({
					left: 0
				});
		    }
		    else {
		    	this.show();
		    }
			return this;
	    }
	    ,
	    hidePanel: function(){
			if (this.data("transition") == "slide") {
		      	this.css({
					left: -document.documentElement.clientWidth
				});
		    }
		    else {
		    	this.hide();
		    }
			return this;
	    }
	  })
	})(Zepto);

	//On document ready
	Zepto(function($){ 
		//Initialize panels
		$("#panel1,#panel2").panel({transition: "slide"});

		//Show first panel
		$("#panel1").showPanel();

		//On first panel click show second panel
		$("#panel1").click(function() {
			$("#panel2").showPanel();
		})

		//On second panel click show first panel
		$("#panel2").click(function() {
			$("#panel1").showPanel();

		})
	});

	
	</script>
	<style type="text/css">
		.moo-panel {
			position: absolute;
			width: 100%;
			height: 100%;
			top: 0;
			left: 0;
			background: white;
		}
		.panelcontent {
			margin: 1em;
			border: 1px solid black;
			padding: 1em;
			font-size: 4em;
		}
		.moo-panel.slide {
			transition: left 1s ease-in-out;			
		}
	</style>
</head>
<body class='main'>
  <header class='moo-header'>
    <nav>
      <a class='moo-nav-back' href='#moo-nav-back' id='navBack'>Back</a>
    </nav>
    <h1>Zepto Mootor demo</h1>
  </header>
  <div id='main'>
    <div id="panel1">
    	<div class="panelcontent">1</div>
    </div>
    <div id="panel2">
    	<div class="panelcontent">2</div>
    </div>
  </div>
</body>

</html>