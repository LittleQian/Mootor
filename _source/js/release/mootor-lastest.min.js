(function(e,d){var c=function(){c=function(b){return new c.fn(b)};c.prototype={ready:function(b){c.core.ready(b,this.el)}};c.test={addEventListener:!1};c.test.addEventListener=e.addEventListener?!0:!1;c.core={init_styles:void 0,ready:function(b,a){a===d&&(a=e);if(a===e||a===e.document){var l=!1,i;i=function(a){l||"readystatechange"===a.type&&"complete"!==e.document.readyState||(b.call(e.document),l=!0)};"undefined"!==a&&c.test.addEventListener&&(a.addEventListener("DOM-ContentLoaded",i,!1),a.addEventListener("readystatechange",
i,!1),a.addEventListener("load",i,!1))}else a.onload=b},hideBody:function(){var b=d.createElement("style");b.innerHTML="body * {display: none}";d.head.appendChild(b);c.core.init_styles=b},showBody:function(){d.head.removeChild(c.core.init_styles)}};c.fn=function(b){var a=typeof b,c;if("string"===a||"object"===a)switch(a){case "string":-1<b.indexOf("#")?(b=b.replace("#",""),c=d.getElementById(b)):-1<b.indexOf(".")&&(b=b.replace(".",""),c=d.getElementsByClassName(b));break;case "object":c=b}this.el=
c;this.query=b;return this};c.extend=function(b){for(var a in b)b.hasOwnProperty(a)&&(c.prototype[a]=b[a])};c.fn.prototype=c.prototype;c.core.ready(function(){var b=d.documentElement.clientWidth;c.core.init_client_height=d.documentElement.clientHeight;c.core.init_client_width=b;c.core.showBody()},d);c.core.hideBody();return c}();(function(b){var a,c;c=function(a,b){a.addEventListener("mouseup",b,!1);a.addEventListener("touchend",b,!1)};a=function(a,b){var f,h=["mousedown","touchstart"];this.el=a;
this.callback=b;this.drag={startX:0,endX:0,lastX:0,startY:0,endY:0,lastY:0,velocity:{x:0,y:0},time:0};for(f=h.length;f--;)a.addEventListener(h[f],this,!1),a.addEventListener(h[f],this,!1);a.onclick=function(){return!1}};a.prototype={handleEvent:function(a){a.preventDefault&&a.preventDefault();a.stopPropagation&&a.stopPropagation();switch(a.type){case "mousedown":case "touchstart":this.start(a);break;case "touchend":case "mouseup":this.end(a);break;case "mousemove":case "touchmove":this.move(a)}},
start:function(a){var b=new Date;a.clientX||a.clientY?(this.drag.startX=a.clientX,this.drag.startY=a.clientY):(this.drag.startX=a.touches[0].clientX,this.drag.startY=a.touches[0].clientY);this.drag.lastX=this.drag.startX;this.drag.lastY=this.drag.startY;this.drag.time=b.getMilliseconds();this.el.addEventListener("mousemove",this,!1);this.el.addEventListener("mouseup",this,!1);this.el.addEventListener("touchmove",this,!1);this.el.addEventListener("touchend",this,!1);this.callback.onDragStart(this.drag)},
move:function(a){var c=b.Event.listeners,f,h=new Date;this.drag.distanceFromOriginX=this.drag.startX-this.drag.lastX;this.drag.distanceFromOriginY=this.drag.startY-this.drag.lastY;a.clientX||a.clientY?(this.drag.distanceX=a.clientX-this.drag.lastX,this.drag.distanceY=a.clientY-this.drag.lastY,this.drag.lastX=a.clientX,this.drag.lastY=a.clientY):(this.drag.distanceX=a.touches[0].clientX-this.drag.lastX,this.drag.distanceY=a.touches[0].clientY-this.drag.lastY,this.drag.lastX=a.touches[0].clientX,this.drag.lastY=
a.touches[0].clientY);a=Math.abs(this.drag.distanceFromOriginX);f=Math.abs(this.drag.distanceFromOriginY);this.drag.time=h.getMilliseconds()-this.drag.time;this.drag.velocity.x=100*(this.drag.distanceX/this.drag.time);this.drag.velocity.y=100*(this.drag.distanceY/this.drag.time);if(0<f&&f>a&&!1===c.isDraggingX)c.isDraggingY=!0;else if(0<a&&!1===c.isDraggingY)c.isDraggingX=!0;this.drag.largeMove=!1;if(void 0!==this.callback.onDragMove)this.callback.onDragMove(this.drag)},end:function(){this.el.removeEventListener("mousemove",
this,!1);this.el.removeEventListener("mouseup",this,!1);this.el.removeEventListener("touchmove",this,!1);this.el.removeEventListener("touchend",this,!1);this.callback.onDragEnd(this.drag)}};b.Event={bind:function(i,d,f){var h=b.Event.listeners,k=h.count,e,g,m=1;for(g=h.count;g--;)h[g].el===i&&(k=g,m=0);if(0<m){switch(d){case "onDrag":e=new a(i,f);break;case "onTap":e=new c(i,f)}h.count+=1;h[k]=e}else e=h[k];e[d]=f}};b.extend(b.Event);b.Event.listeners={count:0,isDraggingX:!1,isDraggingY:!1}})(c);
(function(b){b.Fx={fadeOut:function(a){a="object"===typeof a?a:this.el;a.style.transitionProperty="webkit-transition";a.style.webkitTransitionDuration="0.1s";a.style.webkitTransitionTimingFunction="ease-out";a.style.opacity=0},fadeIn:function(a){a="object"===typeof a?a:this.el;a.style.transitionProperty="webkit-transition";a.style.webkitTransitionDuration="0.1s";a.style.webkitTransitionTimingFunction="ease-out";a.style.opacity=1},show:function(a){a="object"===typeof a?a:this.el;a.style.webkitTransitionDuration=
"0";a.style.opacity=1},hide:function(a){a="object"===typeof a?a:this.el;a.style.webkitTransitionDuration="0";a.style.opacity=0},translate:function(a,b,c){var d=b.x,b=b.y,f;f=c.transitionDuration;a.style.transitionProperty="webkit-transform";void 0!==f&&0<f?(a.style.webkitTransitionDuration=f+"s",a.style.webkitTransitionTimingFunction="ease-out",a.style.webkitTransitionTransitionDelay=f+"s"):(a.style.webkitTransitionDuration="",a.style.webkitTransitionTimingFunction="",a.style.webkitTransitionTransitionDelay=
"");a.style.webkitTransform="translate3d("+(d+"px,"+b+"px, 0")+")";c.callback&&e.setTimeout(c.callback,1E3*f)},dynamicType:function(){var a;a=768>e.innerWidth?e.innerWidth/10+e.innerHeight/40:e.innerWidth/18+e.innerHeight/100;if(null!==typeof d.body)if(105>a&&20<a)d.body.style.fontSize=a+"%";else if(105<=a)d.body.style.fontSize="105%";else if(20>=a)d.body.style.fontSize="20%"}};b.extend(b.Fx)})(c);(function(b){var a=b.Fx,c=b.Event,e=c.listeners,j;j=function(a){this.el=a;this.panels=a.getElementsByClassName("panel");
this.panelsCount=this.panels.length;this.back=this.current=this.panelsY=this.panelsX=0;for(a=this.panelsCount;a--;)this.panels[a].anchors=this.panels[a].getElementsByTagName("a"),this.panels[a].panelHeight=this.panels[a].offsetHeight;this.clientHeight=b.core.init_client_height;this.clientWidth=b.core.init_client_width;this.thresholdX=this.clientWidth/2;if("hidden"!==d.body.style.overflow)d.body.style.overflow="hidden";this.resetAll();this.onDragStart=this.startMove;this.onDragMove=this.move;this.onDragEnd=
this.checkMove;c.bind(this.el,"onDrag",this)};j.prototype={resetAll:function(){var a,b,d,n=this,g;a=function(){!1===e.isDraggingX&&!1===e.isDraggingY&&n.setCurrent(this.rel);return!1};for(d=this.panelsCount;d--;){g=this.panels[d];g.style.width=this.clientWidth+"px";g.style.overflow="hidden";g.style.left=0<d?-(4*(this.clientWidth+40))+"px":"0px";if(this.clientHeight>g.panelHeight)g.style.height=this.clientHeight+"px";for(b=g.anchors.length;b--;)""!==g.anchors[b].rel&&c.bind(g.anchors[b],"onTap",a)}},
create:function(a){var b;b=d.createElement("div");b.id=a.id;b.className="panel";this.el.appendChild(b)},startMove:function(){},move:function(b){var c;c=c=0.5;!0===e.isDraggingX||!0===b.isLoading?0===this.panelsY&&(this.panelsX+=b.distanceX):!0===e.isDraggingY&&(this.panelsY+=b.distanceY);if((e.isDraggingX||e.isDraggingY)&&!b.largeMove)c=0;if(!0===b.bounceBack){0<this.current?(this.panelsX=this.clientWidth+40,this.panelsX=0<this.panelsX?-this.panelsX:this.panelsX):this.panelsX=0;if(0!==this.panelsY)if(0>
b.distanceFromOriginY)this.panelsY=0;else if(c=this.panels[this.current].offsetHeight,c>=this.clientHeight)this.panelsY=-(c-this.clientHeight);b.bounceBack=!1;c=0.5}b.callback?a.translate(this.el,{x:this.panelsX,y:this.panelsY},{transitionDuration:c,callback:b.callback}):a.translate(this.el,{x:this.panelsX,y:this.panelsY},{transitionDuration:c})},checkMove:function(a){var b=this.thresholdX,c=!1,d;if(e.isDraggingX&&0===this.panelsY||e.isDraggingY){if(0!==a.velocity.y)d=a.velocity.y,a.velocity.y=0,
this.move({distanceY:10*d,largeMove:!0,isLoading:!1,callback:this.checkMove(a)});if(a.distanceFromOriginX>b&&this.current<this.panelsCount-1){if(0===this.current)b=this.back,this.back=this.current,this.current=b,c=!0}else if(a.distanceFromOriginX<-b&&0<this.current)this.back=this.current,this.current=0,c=!0;if(!0===c)this.load();else if(0<=this.panelsY||this.panels[this.current].offsetHeight-this.clientHeight<-this.panelsY)a.largeMove=!0,a.bounceBack=!0,this.move(a)}},setCurrent:function(a){var b;
for(b=this.panelsCount;b--;)if(this.panels[b].id===a){if(0<this.current)this.back=this.current;this.current=b;this.panelsY=0;this.load()}},load:function(){var a,b,c;b=this.panels[this.current];c=this.panels[this.back];if(0===this.current){if(a=0,this.back)c.style.left=this.clientWidth+40+"px"}else if(a=this.clientWidth+40,b.style.left=a+"px",this.back&&this.back!==this.current)c.style.left=4*a+"px";this.move({distanceX:-a-this.panelsX,largeMove:!0,isLoading:!0,callback:void 0})}};b.Nav={panels:function(){return new j(this.el)}};
b.extend(b.Nav)})(c);e.$=c})(window,document);
