(function(c){var a=function(d){this.el=d.el;this.init(d);return this};a.prototype={init:function(d){this.canvasElement=b.createCanvas(this);this.ctx=this.canvasElement.getContext("2d");b.addEventListeners(this)}};var b={createCanvas:function(e){var d=document.createElement("canvas");c(d).setClass("moo-draw-canvas");e.el.appendChild(d);return d},addEventListeners:function(g){var h=g.canvasElement,e=g.ctx,f=h.offsetLeft,d=h.offsetTop;console.log("canvasX: "+f);console.log("canvasY: "+d);c(h).onDragMove(function(j){var i,m,l,k;l=j.lastX-f;k=j.lastY-d;i=j.x-f;m=j.y-d;j.e.stopPropagation();e.moveTo(l,k);e.lineTo(i,m);e.stroke();console.log("x :"+i);console.log("lastX :"+l);console.log("y :"+m);console.log("lastY :"+k)})}};c.extend({drawArea:function(d){if(d===undefined){d={}}d.el=this.el;return new a(d)}})}(Mootor));