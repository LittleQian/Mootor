(function(c,b){var a=(function(){a=function(d){return new a.fn(d)};a.prototype={ready:function(d){a.ready(d,this.el)}};a.extend=function(f,e){var d;if(e===undefined){e=a.prototype}for(d in f){if(f.hasOwnProperty(d)){e[d]=f[d]}}};a.extend({styles:undefined,ready:function(g,f){if(f===b){f=c}if(f===c||f===c.document){var e=false,d;d=function(h){if(e){return}if(h.type==="readystatechange"&&c.document.readyState!=="complete"){return}g.call(c.document);e=true};if(f!=="undefined"&&a.test.addEventListener){f.addEventListener("DOM-ContentLoaded",d,false);f.addEventListener("readystatechange",d,false);f.addEventListener("load",d,false)}}else{f.onload=g}},hide:function(){var d=b.createElement("style");d.innerHTML="body * {display: none}";b.head.appendChild(d);a.styles=d},show:function(){b.head.removeChild(a.styles)},test:{addEventListener:false}},a);a.fn=function(f){var d=typeof f,e;if(d==="string"||d==="object"){switch(d){case"string":if(f.indexOf("#")>-1){f=f.replace("#","");e=b.getElementById(f)}else{if(f.indexOf(".")>-1){f=f.replace(".","");e=b.getElementsByClassName(f)}}break;case"object":e=f;break}}this.el=(function(){return e}());this.query=(function(){return f}());return this};a.fn.prototype=a.prototype;if(c.addEventListener){a.test.addEventListener=true}else{a.test.addEventListener=false}a.ready(function(){var e=b.documentElement.clientWidth,d=b.documentElement.clientHeight;a.clientH=(function(){return d}());a.clientW=(function(){return e}());a.show()},b);a.hide();return a}());(function(d){var e,g,f;g=function(h,i){h.addEventListener("mouseup",i,false);h.addEventListener("touchend",i,false)};e=function(k,l){var j,h=["mousedown","touchstart"];this.el=k;this.callback=l;this.drag={startX:0,endX:0,lastX:0,startY:0,endY:0,lastY:0,velocity:{x:0,y:0},time:0};for(j=h.length;j--;){k.addEventListener(h[j],this,false);k.addEventListener(h[j],this,false)}k.onclick=function(){return false}};e.prototype={handleEvent:function(h){if(h.preventDefault){h.preventDefault()}if(h.stopPropagation){h.stopPropagation()}switch(h.type){case"mousedown":case"touchstart":this.start(h);break;case"touchend":case"mouseup":this.end(h);break;case"mousemove":case"touchmove":this.move(h);break}},start:function(i){var h=new Date();if(i.clientX||i.clientY){this.drag.startX=i.clientX;this.drag.startY=i.clientY}else{this.drag.startX=i.touches[0].clientX;this.drag.startY=i.touches[0].clientY}this.drag.lastX=this.drag.startX;this.drag.lastY=this.drag.startY;this.drag.time=h.getMilliseconds();this.el.addEventListener("mousemove",this,false);this.el.addEventListener("mouseup",this,false);this.el.addEventListener("touchmove",this,false);this.el.addEventListener("touchend",this,false);this.callback.onDragStart(this.drag)},move:function(l){var k=d.Event.listeners,j,i,h=new Date();this.drag.distanceFromOriginX=this.drag.startX-this.drag.lastX;this.drag.distanceFromOriginY=this.drag.startY-this.drag.lastY;if(l.clientX||l.clientY){this.drag.distanceX=l.clientX-this.drag.lastX;this.drag.distanceY=l.clientY-this.drag.lastY;this.drag.lastX=l.clientX;this.drag.lastY=l.clientY}else{this.drag.distanceX=l.touches[0].clientX-this.drag.lastX;this.drag.distanceY=l.touches[0].clientY-this.drag.lastY;this.drag.lastX=l.touches[0].clientX;this.drag.lastY=l.touches[0].clientY}j=Math.abs(this.drag.distanceFromOriginX);i=Math.abs(this.drag.distanceFromOriginY);this.drag.time=h.getMilliseconds()-this.drag.time;this.drag.velocity.x=this.drag.distanceX/this.drag.time*100;this.drag.velocity.y=this.drag.distanceY/this.drag.time*100;if(i>0&&i>j&&k.isDraggingX===false){k.isDraggingY=true}else{if(j>0&&k.isDraggingY===false){k.isDraggingX=true}}this.drag.largeMove=false;if(this.callback.onDragMove!==undefined){this.callback.onDragMove(this.drag)}},end:function(h){this.el.removeEventListener("mousemove",this,false);this.el.removeEventListener("mouseup",this,false);this.el.removeEventListener("touchmove",this,false);this.el.removeEventListener("touchend",this,false);this.callback.onDragEnd(this.drag);f.isDraggingY=false;f.isDraggingX=false}};d.Event={bind:function(l,o,p){var k=d.Event.listeners,j=k.count,n,h,m=1;for(h=k.count;h--;){if(k[h].el===l){j=h;m=0}}if(m>0){switch(o){case"onDrag":n=new e(l,p);break;case"onTap":n=new g(l,p);break}k.count+=1;k[j]=n}else{n=k[j]}n[o]=p}};d.extend(d.Event);d.Event.listeners=f={count:0,isDraggingX:false,isDraggingY:false}}(a));(function(d){d.Fx={fadeOut:function(f){var e;if(typeof f==="object"){e=f}else{e=this.el}e.style.transitionProperty="webkit-transition";e.style.webkitTransitionDuration="0.1s";e.style.webkitTransitionTimingFunction="ease-out";e.style.opacity=0},fadeIn:function(f){var e;if(typeof f==="object"){e=f}else{e=this.el}e.style.transitionProperty="webkit-transition";e.style.webkitTransitionDuration="0.1s";e.style.webkitTransitionTimingFunction="ease-out";e.style.opacity=1},show:function(f){var e;if(typeof f==="object"){e=f}else{e=this.el}e.style.webkitTransitionDuration="0";e.style.opacity=1},hide:function(f){var e;if(typeof f==="object"){e=f}else{e=this.el}e.style.webkitTransitionDuration="0";e.style.opacity=0},translate:function(j,f,g){var i=f.x,e=f.y,k,h;h=g.transitionDuration;j.style.transitionProperty="webkit-transform";if(h!==undefined&&h>0){j.style.webkitTransitionDuration=h+"s";j.style.webkitTransitionTimingFunction="ease-out";j.style.webkitTransitionTransitionDelay=h+"s"}else{j.style.webkitTransitionDuration="";j.style.webkitTransitionTimingFunction="";j.style.webkitTransitionTransitionDelay=""}k=i+"px,"+e+"px, 0";j.style.webkitTransform="translate3d("+k+")";if(g.callback){c.setTimeout(g.callback,h*1000)}}};d.extend(d.Fx)}(a));(function(d){var h=d.Fx,e=d.Event,g=e.listeners,f;f=function(l){var k,j;this.el=l;this.panels=l.getElementsByClassName("panel");this.count=this.panels.length;this.x=0;this.y=0;this.current=0;this.back=0;for(k=this.count;k--;){j=this.panels[k];j.anchors=j.getElementsByTagName("a");j.height=j.offsetHeight}this.clientH=d.clientH;this.clientW=d.clientW;this.thresholdX=this.clientW/2;if(b.body.style.overflow!=="hidden"){b.body.style.overflow="hidden"}this.reset();this.onDragStart=this.startMove;this.onDragMove=this.move;this.onDragEnd=this.check;e.bind(this.el,"onDrag",this)};f.prototype={reset:function(){var l,n,o,m=this,k;l=function(){if(g.isDraggingX===false&&g.isDraggingY===false){m.set(this.rel)}return false};for(o=this.count;o--;){k=this.panels[o];k.style.width=this.clientW+"px";k.style.overflow="hidden";if(o>0){k.style.left=-((this.clientW+40)*4)+"px"}else{k.style.left="0px"}if(this.clientH>k.height){k.style.height=this.clientH+"px"}for(n=k.anchors.length;n--;){if(k.anchors[n].rel!==""){e.bind(k.anchors[n],"onTap",l)}}}},startMove:function(i){},move:function(k){var j={},i=0.5;i=0.5;if(g.isDraggingX===true||k.isLoading===true){if(this.y===0){this.x=this.x+k.distanceX}}else{if(g.isDraggingY===true){this.y=this.y+k.distanceY}}if((g.isDraggingX||g.isDraggingY)&&!k.largeMove){i=0}if(k.bounceBack===true){if(this.current>0){this.x=(this.clientW+40);this.x=this.x>0?-this.x:this.x}else{this.x=0}if(this.y!==0){if(k.distanceFromOriginY<0){this.y=0}else{j={height:this.panels[this.current].offsetHeight};if(j.height>=this.clientH){this.y=-(j.height-this.clientH)}}}k.bounceBack=false;i=0.5}if(!k.callback){h.translate(this.el,{x:this.x,y:this.y},{transitionDuration:i})}else{h.translate(this.el,{x:this.x,y:this.y},{transitionDuration:i,callback:k.callback})}},check:function(n){var l=this.thresholdX,k=false,m,i,j;if((g.isDraggingX&&this.y===0)||g.isDraggingY){if(n.velocity.y!==0){j=n.velocity.y;n.velocity.y=0;this.move({distanceY:j*10,largeMove:true,isLoading:false,callback:this.check(n)})}if(n.distanceFromOriginX>l&&this.current<(this.count-1)){if(this.current===0){i=this.back;this.back=this.current;this.current=i;k=true}}else{if(n.distanceFromOriginX<(-l)&&this.current>0){this.back=this.current;this.current=0;k=true}}if(k===true){this.load()}else{m=this.clientH-this.panels[this.current].height;if(this.y>=0||this.panels[this.current].offsetHeight-this.clientH<-this.y){n.largeMove=true;n.bounceBack=true;this.move(n)}}}},set:function(j){var k;for(k=this.count;k--;){if(this.panels[k].id===j){if(this.current>0){this.back=this.current}this.current=k;this.y=0;this.load()}}},load:function(){var l,j,i,k;j=this.panels[this.current];k=this.panels[this.back];if(this.current===0){l=0;if(this.back){k.style.left=this.clientW+40+"px"}}else{l=this.clientW+40;j.style.left=l+"px";if(this.back&&this.back!==this.current){k.style.left=l*4+"px"}}this.move({distanceX:-l-this.x,largeMove:true,isLoading:true,callback:i})}};d.Nav={panels:function(){return new f(this.el)}};d.extend(d.Nav)}(a));c.$=a}(window,document));