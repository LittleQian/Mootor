<!DOCTYPE html>
<head>
  <title>Mootor demo</title>
  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0' name='viewport' />
  <link href='css/styles.css' media='screen' rel='stylesheet' />
  <script src='phonegap/cordova-1.9.0.js' type='text/javascript'></script>
  <script src='js/mootor.js' type='text/javascript'></script>
  <script src='js/plugins/nav.js' type='text/javascript'></script>
  <script src='js/plugins/app.js' type='text/javascript'></script>
  <script src='js/plugins/ui.js' type='text/javascript'></script>
</head>
<body class='main'>
  <header class='moo-header' id='header'>
    <h1>Mootor demo (phonegap)</h1>
    <nav>
      <a class='moo-nav-back' href='' rel='back'>Back</a>
    </nav>
  </header>
  <div id='panels'>
    <div class='moo-panel' id='home'>
      <nav>
        <a class='moo-nav' href='' rel='nav'>Nav</a>
        <a class='moo-nav' href='' rel='ui'>UI</a>
        <a class='moo-nav' href='' rel='geolocalization'>Geolocalization</a>
        <a class='moo-nav' href='' rel='picture'>Picture</a>
      </nav>
    </div>
    <div class='moo-panel' id='ui'></div>
    <div class='moo-panel' id='nav'></div>
    <div class='moo-panel' id='item1'></div>
    <div class='moo-panel' id='item2'></div>
    <div class='moo-panel' id='geolocalization'>
      <h2>Geolocalization</h2>
      <h3>This module is not activated. See $.geolocation</h3>
    </div>
    <div class='moo-panel' id='picture'>
      <h2>Picture</h2>
      <input id='openPicture' type='button' value='Open...' />
      <img id='myImage' />
    </div>
  </div>
</body>
<script type='text/javascript'>
  //<![CDATA[
       $(document).ready(function(){
       
           "use strict";
       
           // Navigation panels
           var myNav = $("#panels").nav(),
       
           // Application
           myApp = $.app({
               views: [
                    "ui",
                    "nav",
                    "item1",
                    "item2"
               ],
               nav: myNav
           });
           
           // Preload a view           
           myApp.load(myApp.views[0], myNav.get("ui"));
           
           
           // Testing Camera
           
           $("#openPicture").onTapEnd(function() {
                navigator.camera.getPicture(
                    onSuccess,
                    onFail, 
                    { 
                        quality: 50, 
                        destinationType: Camera.DestinationType.FILE_URI,
                        // sourceType: Camera.PictureSourceType.SAVEDPHOTOALBUM
                    }
                ); 
           }); 
           
           var onSuccess = function(imageURI) {
                $("#myImage").el.src = imageURI;
           },
            
           onFail = function(message) {
                alert('Failed because: ' + message);
           }
                                  
       });
  //]]>
</script>
