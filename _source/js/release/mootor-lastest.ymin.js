(function(c,b){var a=(function(){a=function(d){return new a.fn(d)};a.prototype={ready:function(d){a.core.ready(d,this.el)}};a.test={addEventListener:false};if(c.addEventListener){a.test.addEventListener=true}else{a.test.addEventListener=false}a.core={init_styles:undefined,ready:function(g,f){if(f===b){f=c}if(f===c||f===c.document){var e=false,d;d=function(h){if(e){return}if(h.type==="readystatechange"&&c.document.readyState!=="complete"){return}g.call(c.document);e=true};if(f!=="undefined"&&a.test.addEventListener){f.addEventListener("DOM-ContentLoaded",d,false);f.addEventListener("readystatechange",d,false);f.addEventListener("load",d,false)}}else{f.onload=g}},hideBody:function(){var d=b.createElement("style");d.innerHTML="body * {display: none}";b.head.appendChild(d);a.core.init_styles=d},showBody:function(){b.head.removeChild(a.core.init_styles)}};a.fn=function(f){var d=typeof f,e;if(d==="string"||d==="object"){switch(d){case"string":if(f.indexOf("#")>-1){f=f.replace("#","");e=b.getElementById(f)}else{if(f.indexOf(".")>-1){f=f.replace(".","");e=b.getElementsByClassName(f)}}break;case"object":e=f;break}}this.el=(function(){return e}());this.query=(function(){return f}());return this};a.extend=function(f,e){var d;if(e==="undefined"){e=a.prototype}for(d in f){if(f.hasOwnProperty(d)){a.prototype[d]=f[d]}}};a.fn.prototype=a.prototype;a.core.ready(function(){var e=b.documentElement.clientWidth,d=b.documentElement.clientHeight;a.core.init_client_height=(function(){return d}());a.core.init_client_width=(function(){return e}());a.core.showBody()},b);a.core.hideBody();return a}());(function(d){var e,g,f;g=function(h,i){h.addEventListener("mouseup",i,false);h.addEventListener("touchend",i,false)};e=function(k,l){var j,h=["mousedown","touchstart"];this.el=k;this.callback=l;this.drag={startX:0,endX:0,lastX:0,startY:0,endY:0,lastY:0,velocity:{x:0,y:0},time:0};for(j=h.length;j--;){k.addEventListener(h[j],this,false);k.addEventListener(h[j],this,false)}k.onclick=function(){return false}};e.prototype={handleEvent:function(h){if(h.preventDefault){h.preventDefault()}if(h.stopPropagation){h.stopPropagation()}switch(h.type){case"mousedown":case"touchstart":this.start(h);break;case"touchend":case"mouseup":this.end(h);break;case"mousemove":case"touchmove":this.move(h);break}},start:function(i){var h=new Date();if(i.clientX||i.clientY){this.drag.startX=i.clientX;this.drag.startY=i.clientY}else{this.drag.startX=i.touches[0].clientX;this.drag.startY=i.touches[0].clientY}this.drag.lastX=this.drag.startX;this.drag.lastY=this.drag.startY;this.drag.time=h.getMilliseconds();this.el.addEventListener("mousemove",this,false);this.el.addEventListener("mouseup",this,false);this.el.addEventListener("touchmove",this,false);this.el.addEventListener("touchend",this,false);this.callback.onDragStart(this.drag)},move:function(l){var k=d.Event.listeners,j,i,h=new Date();this.drag.distanceFromOriginX=this.drag.startX-this.drag.lastX;this.drag.distanceFromOriginY=this.drag.startY-this.drag.lastY;if(l.clientX||l.clientY){this.drag.distanceX=l.clientX-this.drag.lastX;this.drag.distanceY=l.clientY-this.drag.lastY;this.drag.lastX=l.clientX;this.drag.lastY=l.clientY}else{this.drag.distanceX=l.touches[0].clientX-this.drag.lastX;this.drag.distanceY=l.touches[0].clientY-this.drag.lastY;this.drag.lastX=l.touches[0].clientX;this.drag.lastY=l.touches[0].clientY}j=Math.abs(this.drag.distanceFromOriginX);i=Math.abs(this.drag.distanceFromOriginY);this.drag.time=h.getMilliseconds()-this.drag.time;this.drag.velocity.x=this.drag.distanceX/this.drag.time*100;this.drag.velocity.y=this.drag.distanceY/this.drag.time*100;if(i>0&&i>j&&k.isDraggingX===false){k.isDraggingY=true}else{if(j>0&&k.isDraggingY===false){k.isDraggingX=true}}this.drag.largeMove=false;if(this.callback.onDragMove!==undefined){this.callback.onDragMove(this.drag)}},end:function(h){this.el.removeEventListener("mousemove",this,false);this.el.removeEventListener("mouseup",this,false);this.el.removeEventListener("touchmove",this,false);this.el.removeEventListener("touchend",this,false);this.callback.onDragEnd(this.drag);f.isDraggingY=false;f.isDraggingX=false}};d.Event={bind:function(l,o,p){var k=d.Event.listeners,j=k.count,n,h,m=1;for(h=k.count;h--;){if(k[h].el===l){j=h;m=0}}if(m>0){switch(o){case"onDrag":n=new e(l,p);break;case"onTap":n=new g(l,p);break}k.count+=1;k[j]=n}else{n=k[j]}n[o]=p}};d.extend(d.Event);d.Event.listeners=f={count:0,isDraggingX:false,isDraggingY:false}}(a));(function(d){var f=105,e=20;d.Fx={fadeOut:function(h){var g;if(typeof h==="object"){g=h}else{g=this.el}g.style.transitionProperty="webkit-transition";g.style.webkitTransitionDuration="0.1s";g.style.webkitTransitionTimingFunction="ease-out";g.style.opacity=0},fadeIn:function(h){var g;if(typeof h==="object"){g=h}else{g=this.el}g.style.transitionProperty="webkit-transition";g.style.webkitTransitionDuration="0.1s";g.style.webkitTransitionTimingFunction="ease-out";g.style.opacity=1},show:function(h){var g;if(typeof h==="object"){g=h}else{g=this.el}g.style.webkitTransitionDuration="0";g.style.opacity=1},hide:function(h){var g;if(typeof h==="object"){g=h}else{g=this.el}g.style.webkitTransitionDuration="0";g.style.opacity=0},translate:function(l,h,i){var k=h.x,g=h.y,m,j;j=i.transitionDuration;l.style.transitionProperty="webkit-transform";if(j!==undefined&&j>0){l.style.webkitTransitionDuration=j+"s";l.style.webkitTransitionTimingFunction="ease-out";l.style.webkitTransitionTransitionDelay=j+"s"}else{l.style.webkitTransitionDuration="";l.style.webkitTransitionTimingFunction="";l.style.webkitTransitionTransitionDelay=""}m=k+"px,"+g+"px, 0";l.style.webkitTransform="translate3d("+m+")";if(i.callback){c.setTimeout(i.callback,j*1000)}},dynamicType:function(){var g=function(){var h;if(c.innerWidth<768){h=c.innerWidth/10+(c.innerHeight/40)}else{h=c.innerWidth/18+(c.innerHeight/100)}if(typeof(b.body)!==null){if(h<f&&h>e){b.body.style.fontSize=h+"%"}else{if(h>=f){b.body.style.fontSize=f+"%"}else{if(h<=e){b.body.style.fontSize=e+"%"}}}}};g()}};d.extend(d.Fx)}(a));(function(d){var h=d.Fx,e=d.Event,g=e.listeners,f;f=function(k){var j;this.el=k;this.panels=k.getElementsByClassName("panel");this.panelsCount=this.panels.length;this.panelsX=0;this.panelsY=0;this.current=0;this.back=0;for(j=this.panelsCount;j--;){this.panels[j].anchors=this.panels[j].getElementsByTagName("a");this.panels[j].panelHeight=this.panels[j].offsetHeight}this.clientHeight=d.core.init_client_height;this.clientWidth=d.core.init_client_width;this.thresholdX=this.clientWidth/2;if(b.body.style.overflow!=="hidden"){b.body.style.overflow="hidden"}this.resetAll();this.onDragStart=this.startMove;this.onDragMove=this.move;this.onDragEnd=this.checkMove;e.bind(this.el,"onDrag",this)};f.prototype={resetAll:function(){var k,n,o,m=this,l;k=function(){if(g.isDraggingX===false&&g.isDraggingY===false){m.setCurrent(this.rel)}return false};for(o=this.panelsCount;o--;){l=this.panels[o];l.style.width=this.clientWidth+"px";l.style.overflow="hidden";if(o>0){l.style.left=-((this.clientWidth+40)*4)+"px"}else{l.style.left="0px"}if(this.clientHeight>l.panelHeight){l.style.height=this.clientHeight+"px"}for(n=l.anchors.length;n--;){if(l.anchors[n].rel!==""){e.bind(l.anchors[n],"onTap",k)}}}},create:function(i){var j;j=b.createElement("div");j.id=i.id;j.className="panel";this.el.appendChild(j)},startMove:function(i){},move:function(k){var j={},i=0.5;i=0.5;if(g.isDraggingX===true||k.isLoading===true){if(this.panelsY===0){this.panelsX=this.panelsX+k.distanceX}}else{if(g.isDraggingY===true){this.panelsY=this.panelsY+k.distanceY}}if((g.isDraggingX||g.isDraggingY)&&!k.largeMove){i=0}if(k.bounceBack===true){if(this.current>0){this.panelsX=(this.clientWidth+40);this.panelsX=this.panelsX>0?-this.panelsX:this.panelsX}else{this.panelsX=0}if(this.panelsY!==0){if(k.distanceFromOriginY<0){this.panelsY=0}else{j={height:this.panels[this.current].offsetHeight};if(j.height>=this.clientHeight){this.panelsY=-(j.height-this.clientHeight)}}}k.bounceBack=false;i=0.5}if(!k.callback){h.translate(this.el,{x:this.panelsX,y:this.panelsY},{transitionDuration:i})}else{h.translate(this.el,{x:this.panelsX,y:this.panelsY},{transitionDuration:i,callback:k.callback})}},checkMove:function(n){var l=this.thresholdX,k=false,m,i,j;if((g.isDraggingX&&this.panelsY===0)||g.isDraggingY){if(n.velocity.y!==0){j=n.velocity.y;n.velocity.y=0;this.move({distanceY:j*10,largeMove:true,isLoading:false,callback:this.checkMove(n)})}if(n.distanceFromOriginX>l&&this.current<(this.panelsCount-1)){if(this.current===0){i=this.back;this.back=this.current;this.current=i;k=true}}else{if(n.distanceFromOriginX<(-l)&&this.current>0){this.back=this.current;this.current=0;k=true}}if(k===true){this.load()}else{m=this.clientHeight-this.panels[this.current].panelHeight;if(this.panelsY>=0||this.panels[this.current].offsetHeight-this.clientHeight<-this.panelsY){n.largeMove=true;n.bounceBack=true;this.move(n)}}}},setCurrent:function(j){var k;for(k=this.panelsCount;k--;){if(this.panels[k].id===j){if(this.current>0){this.back=this.current}this.current=k;this.panelsY=0;this.load()}}},load:function(){var l,j,i,k;j=this.panels[this.current];k=this.panels[this.back];if(this.current===0){l=0;if(this.back){k.style.left=this.clientWidth+40+"px"}}else{l=this.clientWidth+40;j.style.left=l+"px";if(this.back&&this.back!==this.current){k.style.left=l*4+"px"}}this.move({distanceX:-l-this.panelsX,largeMove:true,isLoading:true,callback:i})}};d.Nav={panels:function(){return new f(this.el)}};d.extend(d.Nav)}(a));c.$=a}(window,document));